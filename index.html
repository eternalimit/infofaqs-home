<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>InfoFAQs Live News Feed</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 p-6">

  <header class="mb-10 text-center">
    <h1 class="text-4xl font-bold">InfoFAQs Live News Feed</h1>
    <p class="text-lg text-gray-500">Up-to-date headlines styled with Tailwind and powered by NewsAPI</p>
  </header>

  <main id="news-feed" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <!-- News cards will be injected here -->
  </main>

  <script>
    const apiKey = "a05fa6bb56a9491eabc69bf066658541";
    const endpoint = `https://newsapi.org/v2/top-headlines?country=us&category=technology&pageSize=6&apiKey=${apiKey}`;

    fetch(endpoint)
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("news-feed");
        container.innerHTML = "";

        data.articles.forEach((article, i) => {
          const source = new URL(article.url).hostname;
          const image = article.urlToImage || [
            "https://tse4.mm.bing.net/th?id=OIP.T8booKW8eX8PQ5qXHMEpawHaEK&pid=Api",
            "https://tse1.mm.bing.net/th?id=OIP.NNM7pnCPMKKm_E126puDmAHaEK&r=0&pid=Api",
            "https://tse3.mm.bing.net/th?id=OIP.zlhDup5cJ10Xd-adt9xq2AHaE7&pid=Api"
          ][i % 3];

          const card = document.createElement("div");
          card.className = "bg-white rounded-xl shadow hover:shadow-lg transition duration-300 overflow-hidden";

          card.innerHTML = `
            <img src="${image}" alt="Article Image" class="w-full h-48 object-cover">
            <div class="p-4">
              <div class="flex items-center space-x-2 mb-2">
                <img src="https://www.google.com/s2/favicons?domain=${source}" class="w-5 h-5" alt="favicon">
                <span class="text-xs text-gray-500">${source}</span>
              </div>
              <h2 class="text-lg font-semibold leading-snug mb-1">
                <a href="${article.url}" target="_blank" class="hover:underline text-blue-700">
                  ${article.title}
                </a>
              </h2>
              <p class="text-sm text-gray-600">${article.description || "No summary available."}</p>
            </div>
          `;

          container.appendChild(card);
        });
      })
      .catch(err => {
        document.getElementById("news-feed").innerHTML =
          "<p class='text-red-600'>News failed to load. Check your API key or internet connection.</p>";
        console.error("Fetch error:", err);
      });
  </script>

</body>
</html>
